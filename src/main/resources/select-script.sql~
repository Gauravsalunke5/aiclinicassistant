-- View All Doctors
SELECT * FROM doctor;

-- View All Patients
SELECT * FROM patient;

-- View All Doctor Schedules
SELECT * FROM doctor_schedule;

-- View All Appointments
SELECT * FROM appointment;

-- View All Visit Notes
SELECT * FROM visit_notes;

-- View Enum Values for Appointment Status
SELECT unnest(enum_range(NULL::appointment_status)) AS appointment_status;

-- Joined: Appointments with Doctor and Patient Info
SELECT
    a.id AS appointment_id,
    d.name AS doctor_name,
    p.name AS patient_name,
    a.time_slot,
    a.status,
    a.created_at,
    a.updated_at
FROM appointment a
JOIN doctor d ON a.doctor_id = d.id
JOIN patient p ON a.patient_id = p.id;

-- Joined: Visit Notes with Doctor and Patient
SELECT
    vn.id AS visit_note_id,
    d.name AS doctor_name,
    p.name AS patient_name,
    vn.summary,
    vn.prescribed_meds,
    vn.followup_date,
    vn.created_at
FROM visit_notes vn
JOIN appointment a ON vn.appointment_id = a.id
JOIN doctor d ON a.doctor_id = d.id
JOIN patient p ON a.patient_id = p.id;

-- Doctorâ€™s Available Schedules (Future)
SELECT
    ds.*,
    d.name AS doctor_name
FROM doctor_schedule ds
JOIN doctor d ON ds.doctor_id = d.id
WHERE ds.status = 'AVAILABLE' AND ds.date >= CURRENT_DATE
ORDER BY ds.date, ds.start_time;
